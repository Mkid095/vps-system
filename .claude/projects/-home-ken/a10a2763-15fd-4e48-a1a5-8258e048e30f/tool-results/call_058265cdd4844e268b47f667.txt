   138→        Write-IterationHeader -Current $i -Total $MaxIterations
   139→
   140→        Write-Host "  Starting Claude..." -ForegroundColor Gray
   141→        Write-Host ""
   142→
   143→        # Stream output in real-time AND capture it for pattern matching
   144→        $claudeOutput = @()
   145→        & claude --dangerously-skip-permissions -p $PROMPT 2>&1 | ForEach-Object {
   146→            Write-Host $_
   147→            $claudeOutput += $_
   148→        }
   149→        $result = $claudeOutput -join "`n"
   150→
   151→        # Check for completion - use story stats instead of hardcoded patterns
   152→        $stats = Get-StoryStats
   153→        if ($stats.Completed -eq $stats.Total -and $stats.Total -gt 0) {
   154→            $duration = (Get-Date) - $startTime
   155→            Write-Complete -Iterations $i -Duration $duration
   156→            Remove-SessionFile
   157→            exit 0
   158→        }
   159→
   160→        if ($i -lt $MaxIterations) {
   161→            Write-Host ""
   162→            Write-Host "  Pausing ${SleepSeconds}s..." -ForegroundColor DarkGray
   163→            Start-Sleep -Seconds $SleepSeconds
   164→            Write-Host ""
   165→        }
   166→    }
   167→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
