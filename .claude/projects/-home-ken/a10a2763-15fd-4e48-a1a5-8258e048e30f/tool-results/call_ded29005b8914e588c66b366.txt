     1→#!/bin/bash
     2→# ============================================================================
     3→# Maven Flow PRD Generator Terminal Forwarder
     4→# Provides visual feedback and progress indicators
     5→# ============================================================================
     6→
     7→set -e
     8→
     9→# Colors
    10→CYAN='\033[0;36m'
    11→GREEN='\033[0;32m'
    12→YELLOW='\033[1;33m'
    13→BLUE='\033[0;34m'
    14→RED='\033[0;31m'
    15→GRAY='\033[0;37m'
    16→NC='\033[0m'
    17→
    18→# Animation frames
    19→SPINNER=('⠋' '⠙' '⠸' '⠴' '⠦' '⠇' '⠏')
    20→
    21→# Get description
    22→DESCRIPTION="$*"
    23→
    24→# Print header
    25→print_header() {
    26→    echo ""
    27→    echo -e "${CYAN}╔════════════════════════════════════════════════════════════╗${NC}"
    28→    echo -e "${CYAN}║      Maven Flow - PRD Generator & Requirements Analyst     ║${NC}"
    29→    echo -e "${CYAN}╚════════════════════════════════════════════════════════════╝${NC}"
    30→    echo ""
    31→}
    32→
    33→# Show what we're doing
    34→print_header
    35→
    36→if [ -z "$DESCRIPTION" ]; then
    37→    echo -e "${BLUE}▶ Generating PRD from scratch${NC}"
    38→    echo -e "${GRAY}  → Interactive mode - Claude will guide you through requirements${NC}"
    39→else
    40→    echo -e "${BLUE}▶ Generating PRD for:${NC} ${YELLOW}$DESCRIPTION${NC}"
    41→    echo -e "${GRAY}  → Creating comprehensive Product Requirements Document${NC}"
    42→fi
    43→echo ""
    44→
    45→# Build the prompt
    46→PROMPT="/flow-prd $DESCRIPTION"
    47→
    48→# Start a background spinner while Claude runs
    49→(
    50→    while true; do
    51→        for frame in "${SPINNER[@]}"; do
    52→            echo -ne "\r${CYAN}  [${frame}] Generating PRD...${NC}"
    53→            sleep 0.1
    54→        done
    55→    done
    56→) &
    57→SPINNER_PID=$!
    58→
    59→# Trap to ensure spinner is killed on exit
    60→trap "kill $SPINNER_PID 2>/dev/null" EXIT
    61→
    62→# Run Claude command
    63→if claude --dangerously-skip-permissions -p "$PROMPT"; then
    64→    # Success - kill spinner and show success
    65→    kill $SPINNER_PID 2>/dev/null
    66→    echo -e "\r${GREEN}[✓] PRD generated successfully${NC}                                         "
    67→    echo ""
    68→    echo -e "${CYAN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
    69→    echo -e "${GRAY}Next steps:${NC}"
    70→    echo -e "  ${GREEN}→${NC} Run: ${YELLOW}flow start${NC} to begin development"
    71→    echo -e "  ${GREEN}→${NC} Or:  ${YELLOW}flow-convert <prd-file>${NC} to convert existing PRD"
    72→    echo -e "${CYAN}━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━${NC}"
    73→else
    74→    # Error - kill spinner and show error
    75→    kill $SPINNER_PID 2>/dev/null
    76→    echo -e "\r${RED}[X] Error generating PRD${NC}                                               "
    77→    exit 1
    78→fi
    79→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
