   525→
   526→Begin Step $step now."
   527→
   528→    # Spawn the agent using Task tool
   529→    echo -e "${CYAN}Spawning $agent_name agent for Step $step...${NC}"
   530→
   531→    local result=$(claude --dangerously-skip-permissions -p "$agent_prompt" 2>&1)
   532→    local exit_code=$?
   533→
   534→    if echo "$result" | grep -q "\[STEP_COMPLETE\]"; then
   535→        echo -e "${GREEN}✓ Step $step complete${NC}"
   536→        return 0
   537→    else
   538→        echo -e "${YELLOW}⚠ Step $step completed (no confirmation signal)${NC}"
   539→        return 0
   540→    fi
   541→}
   542→
   543→# ============================================================================
   544→# Function to process a single story

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
