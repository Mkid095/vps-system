     1→# Maven Flow
     2→
     3→**Memory-Driven Autonomous AI Development System for Claude Code CLI**
     4→
     5→Maven Flow is a comprehensive development system that implements PRD stories using a 10-step workflow with specialist agents. Its unique **memory ecosystem** ensures that each new feature learns from previous work, creating an intelligent codebase that accumulates knowledge over time.
     6→
     7→---
     8→
     9→## Table of Contents
    10→
    11→1. [Overview](#overview)
    12→2. [Quick Start](#quick-start)
    13→3. [System Architecture](#system-architecture)
    14→4. [Memory Ecosystem](#memory-ecosystem)
    15→5. [Complete Workflow](#complete-workflow)
    16→6. [Commands Reference](#commands-reference)
    17→7. [Terminal Scripts](#terminal-scripts)
    18→8. [Maven 10-Step Workflow](#maven-10-step-workflow)
    19→9. [Specialist Agents](#specialist-agents)
    20→10. [Feature-Based Architecture](#feature-based-architecture)
    21→11. [Quality Hooks](#quality-hooks)
    22→12. [Installation](#installation)
    23→13. [Troubleshooting](#troubleshooting)
    24→
    25→---
    26→
    27→## Overview
    28→
    29→Maven Flow combines powerful concepts for autonomous development:
    30→
    31→| Concept | Description |
    32→|---------|-------------|
    33→| **Multi-PRD Architecture** | Each feature has its own PRD file, processed independently |
    34→| **PRD-Driven Iteration** | Works through user stories one at a time with clean context |
    35→| **Maven 10-Step Workflow** | Comprehensive quality assurance via specialized agents |
    36→| **Memory Ecosystem** | New features learn from existing implementations |
    37→| **Claude Code Native** | Built for Claude Code CLI architecture |
    38→
    39→### Key Benefits
    40→
    41→- **Intelligent Context Loading**: Agents receive context from related features
    42→- **Feature Relationship Tracking**: Automatic dependency detection and validation
    43→- **Accumulated Knowledge**: Each story creates memory, consolidated at PRD completion
    44→- **Zero-Tolerance Quality**: Automated hooks enforce standards (no 'any' types, no gradients)
    45→- **Multi-Feature Coordination**: Process multiple PRDs in dependency order
    46→
    47→---
    48→
    49→## Quick Start
    50→
    51→```bash
    52→# 1. Create a PRD (memory-aware - loads existing context)
    53→flow-prd create "I want a payment processing system"
    54→
    55→# 2. Convert to JSON (analyzes relationships, validates MCPs)
    56→flow-convert payments
    57→
    58→# 3. Start autonomous development (loads related memories)
    59→flow start
    60→
    61→# 4. Check progress
    62→flow status
    63→```
    64→
    65→**What happens:**
    66→1. **flow-prd** scans existing PRDs, loads consolidated memories, identifies relationships
    67→2. **flow-convert** validates MCPs, tags related features, extracts lessons learned
    68→3. **flow start** loads related PRD memories + previous story memories before spawning agents
    69→
    70→---
    71→
    72→## System Architecture
    73→
    74→```
    75→┌─────────────────────────────────────────────────────────────────────────────┐
    76→│                          USER INTERFACE LAYER                                │
    77→├─────────────────────────────────────────────────────────────────────────────┤
    78→│                                                                              │
    79→│  Terminal Commands                                    Claude Code Commands   │
    80→│  ─────────────────                                    ────────────────────   │
    81→│  flow start              ──executes──→  /flow start                          │
    82→│  flow status             ──executes──→  /flow status                         │
    83→│  flow-prd create "...""  ──executes──→  /flow-prd "..."                      │
    84→│  flow-convert auth       ──calls skill→  flow-convert docs/prd-auth.md       │
    85→│                                                                              │
    86→└─────────────────────────────────────────────────────────────────────────────┘
    87→                                      │
    88→                                      ▼
    89→┌─────────────────────────────────────────────────────────────────────────────┐
    90→│                         BASH WRAPPER LAYER (thin)                            │
    91→├─────────────────────────────────────────────────────────────────────────────┤
    92→│                                                                              │
    93→│  bin/flow.sh          bin/flow-prd.sh          bin/flow-convert.sh           │
    94→│  ───────────          ───────────────          ─────────────────            │
    95→│  • Parse arguments     • Parse arguments        • Parse arguments            │
    96→│  • Invoke Claude       • Invoke Claude          • Invoke skill               │
    97→│                                                                              │
    98→│  NOTE: Bash does NOT do AI work. Bash ONLY:                                 │
    99→│        - Parse CLI arguments                                                 │
   100→│        - Find file paths                                                     │
   101→│        - Invoke Claude Code commands/skills                                  │
   102→│        - Display output to user                                              │
   103→│                                                                              │
   104→└─────────────────────────────────────────────────────────────────────────────┘
   105→                                      │
   106→                                      ▼
   107→┌─────────────────────────────────────────────────────────────────────────────┐
   108→│                      CLAUDE CODE COMMAND/SKILL LAYER                          │
   109→├─────────────────────────────────────────────────────────────────────────────┤
   110→│                                                                              │
   111→│  .claude/commands/              .claude/skills/                              │
   112→│  ─────────────────              ──────────────                               │
   113→│  flow.md                        flow-convert/SKILL.md                        │
   114→│  flow-prd.md                                                                │
   115→│  consolidate-memory.md                                                   ┌───┤
   116→│  create-story-memory.md                                                 │   │
   117→│                                                                       AGENTS│
   118→│  NOTE: These are TEXT FILES containing                                  ────┤
   119→│        instructions that Claude Code EXECUTES.                          │   │
   120→│        Claude Code READS these files and                                │   │
   121→│        FOLLOWS the instructions.                                         │   │
   122→│                                                                          │   │
   123→│  This is where ALL AI work happens:                                     │   │
   124→│  - Memory loading                                                        │   │
   125→│  - Feature relationship analysis                                        │   │
   126→│  - Context building                                                      │   │
   127→│  - Agent spawning coordination                                          │   │
   128→└──────────────────────────────────────────────────────────────────────────┴───┘
   129→                                      │
   130→                                      ▼
   131→┌─────────────────────────────────────────────────────────────────────────────┐
   132→│                           SPECIALIST AGENTS LAYER                             │
   133→├─────────────────────────────────────────────────────────────────────────────┤
   134→│                                                                              │
   135→│  @development-agent    @refactor-agent    @quality-agent   @security-agent  │
   136→│  ─────────────────    ────────────────    ─────────────   ───────────────  │
   137→│  • Foundation          • Restructure       • Type safety    • Auth flow      │
   138→│  • Data layer          • Modularize        • Import aliases  • RLS policies  │
   139→│  • MCP integration     • UI centralization • Zero 'any'     • Error handling │
   140→│                                                                              │
   141→│  @design-agent         @testing-agent      @mobile-app-agent                  │
   142→│  ─────────────         ────────────────    ─────────────────                  │
   143→│  • Mobile UI/UX        • Browser testing   • Mobile screens                   │
   144→│  • Professional design • Console errors    • Offline support                  │
   145→│                                                                              │
   146→│  NOTE: Agents are Claude Code subagents.                                     │
   147→│        Main Claude spawns them using @agent-name syntax.                     │
   148→│        Each agent has ISOLATED context window.                               │
   149→└─────────────────────────────────────────────────────────────────────────────┘
   150→                                      │
   151→                                      ▼
   152→┌─────────────────────────────────────────────────────────────────────────────┐
   153→│                          AUTOMATED HOOKS LAYER                                │
   154→├─────────────────────────────────────────────────────────────────────────────┤
   155→│                                                                              │
   156→│  .claude/hooks/                                                               │
   157→│  ─────────────                                                               │
   158→│  post-tool-use-quality.sh       stop-comprehensive-check.sh                  │
   159→│  ────────────────────────────   ──────────────────────────────               │
   160→│  • Runs after EVERY tool use    • Runs before story completion              │
   161→│  • Checks for 'any' types       • Validates entire codebase                  │
   162→│  • Checks for gradients         • Generates fix tasks if needed              │
   163→│  • Auto-fixes import paths                                                        │
   164→│                                                                              │
   165→│  NOTE: Hooks are AUTOMATIC. Claude Code runs them after tool use.           │
   166→│        Hooks are bash scripts that Claude Code INVOKES.                      │
   167→│        Hooks do NOT coordinate - they only check quality.                    │
   168→└─────────────────────────────────────────────────────────────────────────────┘
   169→```
   170→
   171→### Who Does What?
   172→
   173→| Layer | Technology | Responsibility |
   174→|-------|-----------|----------------|
   175→| **User Interface** | Terminal | User types commands |
   176→| **Bash Wrappers** | Shell scripts | Parse arguments, invoke Claude Code |
   177→| **Claude Code (Main)** | Claude Code CLI | Read instructions, do AI work, coordinate agents |
   178→| **Specialist Agents** | Claude Code subagents | Perform specific tasks (dev, refactor, quality, etc.) |
   179→| **Hooks** | Bash scripts | Automatic quality checks |
   180→
   181→---
   182→
   183→## Memory Ecosystem
   184→
   185→### Memory Flow Diagram
   186→
   187→```
   188→┌─────────────────────────────────────────────────────────────────────────────┐
   189→│                    MEMORY FLOW CYCLE                                         │
   190→├─────────────────────────────────────────────────────────────────────────────┤
   191→│                                                                              │
   192→│    Existing PRDs          ──load──>   flow-prd                              │
   193→│    (prd-*.json)                            │                                │
   194→│         │                                  │                                │
   195→│         │                                  │                                │
   196→│         └──────────────load────────────────┘                                │
   197→│                    │                                                        │
   198→│                    ▼                                                        │
   199→│  Consolidated Memories  ──load──>  flow-convert                             │
   200→│  (consolidated-*.txt)                    │                                 │
   201→│         │                                   │                              │
   202→│         │                                   │                              │
   203→│         └────────────load───────────────────┘                              │
   204→│                    │                                                        │
   205→│                    ▼                                                        │
   206→│  Story Memories        ──load──>  flow.md (execution)                       │
   207→│  (story-US-*.txt)                       │                                  │
   208→│         │                                 │                                  │
   209→│         │                                 │                                  │
   210→│         └─────────────feed────────────────┘                                  │
   211→│                      │                                                       │
   212→│                      ▼                                                       │
   213→│              New Implementation                                              │
   214→│                      │                                                       │
   215→│                      ▼                                                       │
   216→│              Create Story Memory                                             │
   217→│                      │                                                       │
   218→│                      ▼                                                       │
   219→│              Consolidate (when all done)                                     │
   220→│                      │                                                       │
   221→│                      └─────feeds back to Existing PRDs ─────┘                │
   222→│                                                                              │
   223→└─────────────────────────────────────────────────────────────────────────────┘
   224→```
   225→
   226→### Three Memory Layers
   227→
   228→```
   229→┌─────────────────────────────────────────────────────────────────────────────┐
   230→│                         MEMORY LAYER ARCHITECTURE                             │
   231→├─────────────────────────────────────────────────────────────────────────────┤
   232→│                                                                              │
   233→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   234→│  │ LAYER 1: Story Memory (Per Story)                                   │    │
   235→│  │ ────────────────────────────────────────────────────────────────────│    │
   236→│  │ File: docs/[feature]/story-US-[###]-[title].txt                     │    │
   237→│  │                                                                      │    │
   238→│  │ Contents:                                                            │    │
   239→│  │ • What was implemented (files, components, functions)                │    │
   240→│  │ • Key decisions made (architecture, design patterns)                 │    │
   241→│  │ • Challenges resolved (problems and solutions)                       │    │
   242→│  │ • Integration points (connections to other features)                 │    │
   243→│  │ • Lessons learned (important takeaways)                              │    │
   244→│  │                                                                      │    │
   245→│  │ Created: After each story completes                                  │    │
   246→│  │ Used by: Next stories in same PRD                                    │    │
   247→│  └─────────────────────────────────────────────────────────────────────┘    │
   248→│                              │                                               │
   249→│                              ▼                                               │
   250→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   251→│  │ LAYER 2: Consolidated Memory (Per PRD)                              │    │
   252→│  │ ────────────────────────────────────────────────────────────────────│    │
   253→│  │ File: docs/consolidated-[feature].txt                               │    │
   254→│  │                                                                      │    │
   255→│  │ Contents (aggressively summarized to ~15K tokens):                   │    │
   256→│  │ • System overview (brief description)                                │    │
   257→│  │ • Architecture decisions (tech stack, patterns)                      │    │
   258→│  │ • Public interfaces (API endpoints, components)                      │    │
   259→│  │ • Integration patterns (how this connects to other PRDs)             │    │
   260→│  │ • Related PRDs (dependencies)                                        │    │
   261→│  │                                                                      │    │
   262→│  │ Created: When ALL stories in PRD complete                            │    │
   263→│  │ Used by: New PRDs that depend on this feature                        │    │
   264→│  └─────────────────────────────────────────────────────────────────────┘    │
   265→│                              │                                               │
   266→│                              ▼                                               │
   267→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   268→│  │ LAYER 3: Cross-PRD Context (During Execution)                       │    │
   269→│  │ ────────────────────────────────────────────────────────────────────│    │
   270→│  │ Not a file - assembled dynamically during story execution:           │    │
   271→│  │                                                                      │    │
   272→│  │ Contents:                                                            │    │
   273→│  │ • Related PRD summaries (~3-5K tokens per related PRD)               │    │
   274→│  │ • Previous story summaries (~10K tokens total)                        │    │
   275→│  │ • Current story requirements                                          │    │
   276→│  │                                                                      │    │
   277→│  │ Assembled: By flow.md before spawning agents                         │    │
   278→│  │ Used by: Specialist agents during implementation                     │    │
   279→│  └─────────────────────────────────────────────────────────────────────┘    │
   280→│                                                                              │
   281→└─────────────────────────────────────────────────────────────────────────────┘
   282→```
   283→
   284→### Folder Structure
   285→
   286→```
   287→docs/
   288→├── authentication/                    # Story memories folder (auto-created)
   289→│   ├── story-US-001-login.txt        # Story: User login
   290→│   ├── story-US-002-signup.txt       # Story: User signup
   291→│   └── story-US-003-reset-password.txt # Story: Password reset
   292→├── prd-authentication.md              # Human-readable PRD (from flow-prd)
   293→├── prd-authentication.json            # Machine-readable PRD (from flow-convert)
   294→└── consolidated-authentication.txt    # Consolidated memory (when PRD complete)
   295→```
   296→
   297→---
   298→
   299→## Complete Workflow
   300→
   301→### Phase 1: Create PRD (Memory-Aware)
   302→
   303→```bash
   304→flow-prd create "I want a payment processing system"
   305→```
   306→
   307→**What happens internally:**
   308→
   309→```
   310→┌─────────────────────────────────────────────────────────────────────────────┐
   311→│ PHASE 1: Create PRD (/flow-prd)                                             │
   312→├─────────────────────────────────────────────────────────────────────────────┤
   313→│                                                                              │
   314→│  INPUT: User message describing feature                                      │
   315→│                                                                              │
   316→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   317→│  │ STEP 1: Determine Input Source                                        │    │
   318→│  │ • Check if plan.md exists                                            │    │
   319→│  │ • If yes: Use plan.md                                                │    │
   320→│  │ • If no: Extract features from user message                          │    │
   321→│  └─────────────────────────────────────────────────────────────────────┘    │
   322→│                              │                                               │
   323→│                              ▼                                               │
   324→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   325→│  │ STEP 2.5: LOAD EXISTING CONTEXT (MEMORY AWARENESS)                   │    │
   326→│  │                                                                      │    │
   327→│  │ 2.5.1: Scan for Existing PRDs                                       │    │
   328→│  │   find docs -name "prd-*.json"                                       │    │
   329→│  │   → prd-auth.json, prd-products.json, prd-orders.json               │    │
   330→│  │                                                                      │    │
   331→│  │ 2.5.2: Load Consolidated Memories                                    │    │
   332→│  │   For each complete PRD:                                             │    │
   333→│  │   - Architecture Patterns (tech stack, structure)                    │    │
   334→│  │   - Key Decisions                                                    │    │
   335→│  │   - Lessons Learned                                                  │    │
   336→│  │                                                                      │    │
   337→│  │   Example from prd-auth.json:                                        │    │
   338→│  │   - Tech: Next.js 14, Supabase, React Query                          │    │
   339→│  │   - Pattern: Feature-based architecture                              │    │
   340→│  │   - Lesson: Always generate types first                              │    │
   341→│  │                                                                      │    │
   342→│  │ 2.5.3: Load Story Memories                                           │    │
   343→│  │   find docs -name "story-*.txt"                                      │    │
   344→│  │   For each story:                                                    │    │
   345→│  │   - Development process insights                                     │    │
   346→│  │   - Tech stack learnings                                             │    │
   347→│  │   - Architecture insights                                            │    │
   348→│  │   - Integration challenges and solutions                             │    │
   349→│  │                                                                      │    │
   350→│  │ 2.5.4: Extract Integration Points                                    │    │
   351→│  │   - Authentication: Supabase Auth with role-based access             │    │
   352→│  │   - Database: Supabase (PostgreSQL) with RLS                         │    │
   353→│  │   - API: REST endpoints in /api/*                                    │    │
   354→│  │   - State: React Query + Zustand                                     │    │
   355→│  └─────────────────────────────────────────────────────────────────────┘    │
   356→│                              │                                               │
   357→│                              ▼                                               │
   358→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   359→│  │ STEP 2.6: ANALYZE FEATURE RELATIONSHIPS                             │    │
   360→│  │                                                                      │    │
   361→│  │ For the new feature:                                                  │    │
   362→│  │ 1. Does it depend on existing?                                       │    │
   363→│  │    - Need authentication? → depends_on prd-auth.json                 │    │
   364→│  │    - Need product data? → depends_on prd-products.json               │    │
   365→│  │                                                                      │    │
   366→│  │ 2. Will existing depend on new?                                      │    │
   367→│  │    - Orders need payments? → depended_by prd-orders.json             │    │
   368→│  │                                                                      │    │
   369→│  │ Build RELATIONSHIPS map:                                             │    │
   370→│  │ {                                                                    │    │
   371→│  │   prd-auth.json: {                                                   │    │
   372→│  │     type: "depends_on",                                              │    │
   373→│  │     reason: "Payments require authenticated users",                   │    │
   374→│  │     integration: "user sessions, role-based access"                   │    │
   375→│  │   }                                                                  │    │
   376→│  │ }                                                                    │    │
   377→│  └─────────────────────────────────────────────────────────────────────┘    │
   378→│                              │                                               │
   379→│                              ▼                                               │
   380→│  OUTPUT: docs/prd-[feature].md                                            │
   381→│          - Context from existing features                                  │
   382→│          - Related features (depends_on, depended_by)                      │
   383→│          - User stories with mavenSteps                                    │
   384→│                                                                              │
   385→│  AUTO-RUN: flow-convert docs/prd-[feature].md                               │
   386→│                                                                              │
   387→└─────────────────────────────────────────────────────────────────────────────┘
   388→```
   389→
   390→### Phase 2: Convert PRD (Analyze Relationships)
   391→
   392→```bash
   393→flow-convert payments
   394→```
   395→
   396→**What happens internally:**
   397→
   398→```
   399→┌─────────────────────────────────────────────────────────────────────────────┐
   400→│ PHASE 2: Convert PRD (flow-convert)                                        │
   401→├─────────────────────────────────────────────────────────────────────────────┤
   402→│                                                                              │
   403→│  INPUT: docs/prd-[feature].md (from Phase 1)                                │
   404→│                                                                              │
   405→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   406→│  │ STEP 2: SCAN EXISTING JSON PRDs                                      │    │
   407→│  │                                                                      │    │
   408→│  │ find docs -name "prd-*.json"                                         │    │
   409→│  │ → Build FEATURE_MAP with status, relatedPRDs, consolidatedMemory     │    │
   410→│  └─────────────────────────────────────────────────────────────────────┘    │
   411→│                              │                                               │
   412→│                              ▼                                               │
   413→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   414→│  │ STEP 3: LOAD CONSOLIDATED MEMORIES                                   │    │
   415→│  │                                                                      │    │
   416→│  │ From complete PRDs:                                                   │    │
   417→│  │ - Architecture Decisions (tech_stack, structure, patterns)            │    │
   418→│  │ - Integration Patterns (auth, database, api, state)                   │    │
   419→│  │ - Lessons Learned (what worked, what didn't)                         │    │
   420→│  └─────────────────────────────────────────────────────────────────────┘    │
   421→│                              │                                               │
   422→│                              ▼                                               │
   423→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   424→│  │ STEP 4: ANALYZE FEATURE RELATIONSHIPS                               │    │
   425→│  │                                                                      │    │
   426→│  │ 4.1: Extract from markdown PRD                                       │    │
   427→│  │ 4.2: Cross-reference with existing JSON PRDs                          │    │
   428→│  │ 4.3: Build relatedPRDs array with metadata                           │    │
   429→│  │ 4.4: Handle edge cases (missing PRDs, circular deps)                  │    │
   430→│  │                                                                      │    │
   431→│  │ relatedPRDs: [                                                        │    │
   432→│  │   {                                                                  │    │
   433→│  │     prd: "prd-auth.json",                                            │    │
   434→│  │     type: "depends_on",                                              │    │
   435→│  │     status: "complete",                                              │    │
   436→│  │     reason: "Payments require authenticated users",                   │    │
   437→│  │     integration: "user sessions, role-based access"                   │    │
   438→│  │   }                                                                  │    │
   439→│  │ ]                                                                    │    │
   440→│  └─────────────────────────────────────────────────────────────────────┘    │
   441→│                              │                                               │
   442→│                              ▼                                               │
   443→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   444→│  │ STEP 5: VALIDATE MCP AVAILABILITY                                    │    │
   445→│  │                                                                      │    │
   446→│  • Check which MCPs are configured in Claude Code                        │    │
   447→│  • Only assign available MCPs to stories                                 │    │
   448→│  • Leave mcpTools empty {} if uncertain                                  │    │
   449→│  └─────────────────────────────────────────────────────────────────────┘    │
   450→│                              │                                               │
   451→│                              ▼                                               │
   452→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   453→│  │ STEP 6: BUILD LESSONS LEARNED                                        │    │
   454→│  │                                                                      │    │
   455→│  │ Extract from consolidated memories:                                  │    │
   456→│  │ - Tech stack decisions                                                │    │
   457→│  │ - Architecture patterns                                               │    │
   458→│  │ - Integration lessons                                                 │    │
   459→│  └─────────────────────────────────────────────────────────────────────┘    │
   460→│                              │                                               │
   461→│                              ▼                                               │
   462→│  OUTPUT: docs/prd-[feature].json                                          │
   463→│          - relatedPRDs: [] (relationship metadata)                         │
   464→│          - lessonsLearned: "" (from existing features)                     │
   465→│          - consolidatedMemory: "" (empty initially)                         │
   466→│          - userStories: [] (with mavenSteps, mcpTools, priority)           │
   467→│                                                                              │
   468→└─────────────────────────────────────────────────────────────────────────────┘
   469→```
   470→
   471→### Phase 3: Execute Flow (With Memory Loading)
   472→
   473→```bash
   474→flow start
   475→```
   476→
   477→**What happens internally:**
   478→
   479→```
   480→┌─────────────────────────────────────────────────────────────────────────────┐
   481→│ PHASE 3: Execute Flow (/flow start)                                         │
   482→├─────────────────────────────────────────────────────────────────────────────┤
   483→│                                                                              │
   484→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   485→│  │ PREREQUISITES CHECK                                                  │    │
   486→│  │ • docs/ directory exists                                              │    │
   487→│  │ • PRD files exist (docs/prd-*.json)                                  │    │
   488→│  │ • At least one incomplete story                                       │    │
   489→│  └─────────────────────────────────────────────────────────────────────┘    │
   490→│                              │                                               │
   491→│                              ▼                                               │
   492→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   493→│  │ SCAN PHASE                                                           │    │
   494→│  │ • Scan docs/ for all prd-*.json files                                │    │
   495→│  │ • Check completion status (all stories passes: true?)                │    │
   496→│  │ • Pick first incomplete PRD (alphabetically)                          │    │
   497→│  └─────────────────────────────────────────────────────────────────────┘    │
   498→│                              │                                               │
   499→│                              ▼                                               │
   500→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   501→│  │ FOR EACH INCOMPLETE STORY:                                           │    │
   502→│  │                                                                      │    │
   503→│  │ ════════════════════════════════════════════════════════════════   │    │
   504→│  │ MEMORY LOADING PHASE (CRITICAL!)                                     │    │
   505→│  │ ════════════════════════════════════════════════════════════════   │    │
   506→│  │                                                                      │    │
   507→│  │ Step 1: Read PRD's relatedPRDs array                                 │    │
   508→│  │   cat docs/prd-[feature].json | jq '.relatedPRDs'                   │    │
   509→│  │                                                                      │    │
   510→│  │ Step 2: Load consolidated memory from related PRDs                    │    │
   511→│  │   For each related PRD:                                              │    │
   512→│  │   - Read docs/consolidated-[feature].txt                             │    │
   513→│  │   - Extract: Architecture, Integration, Lessons                      │    │
   514→│  │   - Summarize: ~3-5K tokens per PRD                                  │    │
   515→│  │                                                                      │    │
   516→│  │ Step 3: Load previous story memories from same PRD                    │    │
   517→│  │   find docs/[feature]/story-*.txt                                    │    │
   518→│  │   For each story memory:                                             │    │
   519→│  │   - Extract: Implemented, Decisions, Challenges, Lessons             │    │
   520→│  │   - Total budget: ~10K tokens                                        │    │
   521→│  │                                                                      │    │
   522→│  │ Step 4: Build story session with context structure                    │    │
   523→│  │   CONTEXT = {                                                         │    │
   524→│  │     relatedPRDs: { architecture, integration, lessons },              │    │
   525→│  │     previousStories: { implemented, decisions },                     │    │
   526→│  │     currentStory: { description, acceptanceCriteria }                 │    │
   527→│  │   }                                                                  │    │
   528→│  │                                                                      │    │
   529→│  │ ════════════════════════════════════════════════════════════════   │    │
   530→│  ════════════════════════════════════════════════════════════════════   │    │
   531→│  └─────────────────────────────────────────────────────────────────────┘    │
   532→│                              │                                               │
   533→│                              ▼                                               │
   534→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   535→│  │ IMPLEMENTATION PHASE                                                 │    │
   536→│  │                                                                      │    │
   537→│  │ For each mavenStep:                                                  │    │
   538→│  │   1. Determine which agent to spawn:                                 │    │
   539→│  │      Steps 1,2,7,9 → @development-agent                               │    │
   540→│  │      Steps 3,4,6 → @refactor-agent                                    │    │
   541→│  │      Step 5 → @quality-agent                                          │    │
   542→│  │      Steps 8,10 → @security-agent                                     │    │
   543→│  │      Step 11 → @design-agent                                          │    │
   544→│  │                                                                      │    │
   545→│  │   2. Build agent prompt with FULL CONTEXT:                            │    │
   546→│  │      @development-agent                                               │    │
   547→│  │                                                                      │    │
   548→│  │      ## CONTEXT FROM RELATED FEATURES:                                │    │
   549→│  │      ### Authentication (prd-auth.json):                             │    │
   550→│  │      - Auth: Supabase Auth with RLS                                  │    │
   551→│  │      - User ID: auth.getUser()                                        │    │
   552→│  │                                                                      │    │
   553→│  │      ### Products (prd-products.json):                               │    │
   554→│  │      - API: /api/products/*                                          │    │
   555→│  │                                                                      │    │
   556→│  │      ## CONTEXT FROM PREVIOUS STORIES:                                │    │
   557→│  │      ### US-001: Database schema                                      │    │
   558→│  │      - Table: tasks (id, title, status)                               │    │
   559→│  │                                                                      │    │
   560→│  │      ## YOUR TASK:                                                   │    │
   561→│  │      [Detailed requirements from PRD]                                 │    │
   562→│  │                                                                      │    │
   563→│  │   3. Spawn agent and wait for completion                              │    │
   564→│  │                                                                      │    │
   565→│  └─────────────────────────────────────────────────────────────────────┘    │
   566→│                              │                                               │
   567→│                              ▼                                               │
   568→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   569→│  │ QUALITY CHECKS                                                       │    │
   570→│  │ • pnpm run typecheck                                                 │    │
   571→│  │ • Verify no 'any' types, gradients, emojis                           │    │
   572→│  └─────────────────────────────────────────────────────────────────────┘    │
   573→│                              │                                               │
   574→│                              ▼                                               │
   575→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   576→│  │ MEMORY CREATION PHASE (MANDATORY)                                    │    │
   577→│  │                                                                      │    │
   578→│  │ 1. Create: docs/[feature]/story-US-[###]-[title].txt                │    │
   579→│  │    Contents: Implemented, Decisions, Integration, Lessons             │    │
   580→│  │                                                                      │    │
   581→│  │ 2. Update PRD: passes: true for story                                │    │
   582→│  │                                                                      │    │
   583→│  │ 3. Commit: git commit -m "feat: [US-XXX] [title]"                    │    │
   584→│  │                                                                      │    │
   585→│  │ 4. Output: <STORY_COMPLETE> signal                                    │    │
   586→│  └─────────────────────────────────────────────────────────────────────┘    │
   587→│                              │                                               │
   588→│                              ▼                                               │
   589→│  ═════════════════════════════════════════════════════════════════════════   │
   590→│                        Move to next story                                   │
   591→│  ═════════════════════════════════════════════════════════════════════════   │
   592→│                              │                                               │
   593→│                              ▼                                               │
   594→│  ┌─────────────────────────────────────────────────────────────────────┐    │
   595→│  │ CONSOLIDATION PHASE (when ALL stories complete)                      │    │
   596→│  │                                                                      │    │
   597→│  │ 1. Read all story memory files                                       │    │
   598→│  │ 2. Consolidate into docs/consolidated-[feature].txt                  │    │
   599→│  │ 3. Target: ~15K tokens (aggressive summarization)                    │    │
   600→│  │ 4. Output: <ALL_COMPLETE> signal                                     │    │
   601→│  └─────────────────────────────────────────────────────────────────────┘    │
   602→│                              │                                               │
   603→│                              ▼                                               │
   604→│                    Continue to next incomplete PRD                          │
   605→│                                                                              │
   606→└─────────────────────────────────────────────────────────────────────────────┘
   607→```
   608→
   609→---
   610→
   611→## Commands Reference
   612→
   613→### `/flow start [max-iterations]`
   614→
   615→Starts autonomous flow execution.
   616→
   617→```bash
   618→/flow start          # Default 10 iterations
   619→/flow start 20       # Custom iteration limit
   620→/flow start 1        # Process exactly 1 story then stop
   621→```
   622→
   623→**What happens:**
   624→1. Validates prerequisites (docs/, PRD files, incomplete stories)
   625→2. Scans for all PRD files in `docs/`
   626→3. Identifies incomplete stories (`passes: false`)
   627→4. For each story:
   628→   - **MEMORY LOADING PHASE**: Loads related PRD memories + previous story memories
   629→   - **IMPLEMENTATION PHASE**: Spawns specialist agents for each mavenStep
   630→   - **QUALITY CHECKS**: Runs typecheck and lint
   631→   - **MEMORY CREATION PHASE**: Creates story memory file
   632→   - Commits changes with standardized format
   633→   - Marks story as complete in PRD
   634→5. Continues until max iterations or all PRDs complete
   635→
   636→### `/flow status`
   637→
   638→Shows current progress across all PRDs.
   639→
   640→```bash
   641→/flow status
   642→```
   643→
   644→**Example output:**
   645→```
   646→Maven Flow Status: 3 PRD files found
   647→
   648→prd-task-priority.json (3/5 complete)
   649→  ✓ US-001: Add priority field to database
   650→  ✓ US-002: Display priority indicator
   651→  ✓ US-003: Add priority selector
   652→  ○ US-004: Filter tasks by priority (priority: 4)
   653→  ○ US-005: Add priority sorting (priority: 5)
   654→
   655→prd-user-auth.json (0/4 complete)
   656→  ○ US-001: Firebase authentication setup
   657→  ○ US-002: Supabase profile storage
   658→  ○ US-003: Login form UI
   659→  ○ US-004: Password reset flow
   660→
   661→prd-notifications.json (4/4 complete) ✅
   662→
   663→Current focus: prd-task-priority.json
   664→
   665→Recent progress:
   666→  [2026-01-25] prd-task-priority.json - US-003 Added priority dropdown
   667→  Agents: refactor-agent, quality-agent
   668→```
   669→
   670→### `/flow continue [prd-name] [max-iterations]`
   671→
   672→Resumes flow execution from where it left off.
   673→
   674→```bash
   675→/flow continue           # Continue with current PRD
   676→/flow continue 5         # Continue with 5 more iterations
   677→/flow continue auth 10   # Continue specific PRD
   678→```
   679→
   680→### `/flow reset [prd-name]`
   681→
   682→Archives current PRD run and resets for fresh start.
   683→
   684→```bash
   685→/flow reset           # Prompts to select PRD
   686→/flow reset auth      # Reset specific PRD
   687→```
   688→
   689→**What happens:**
   690→- Creates archive: `archive/YYYY-MM-DD-[feature-name]/`
   691→- Moves current PRD and progress file to archive
   692→- Resets all stories to `passes: false`
   693→- Creates fresh PRD and progress files
   694→- Prompts for confirmation before archiving
   695→
   696→### `/flow test [prd-name]`
   697→
   698→Runs comprehensive testing of implemented features.
   699→
   700→```bash
   701→/flow test                    # Test current PRD (auto-detects)
   702→/flow test authentication     # Test authentication PRD
   703→/flow test task-priority      # Test task-priority PRD
   704→```
   705→
   706→**What happens:**
   707→1. Reads PRD to find completed stories
   708→2. Starts dev server: `pnpm dev`
   709→3. Opens application using chrome-devtools MCP
   710→4. Tests user signup/login with standard test user
   711→5. Tests each completed feature's acceptance criteria
   712→6. Checks console for errors
   713→7. Creates error log at `docs/errors-[feature-name].md`
   714→
   715→**Test User Credentials:**
   716→- Email: `revccnt@gmail.com`
   717→- Password: `Elishiba!90`
   718→
   719→### `/flow consolidate [prd-name]`
   720→
   721→Fixes errors found during testing (without re-implementing features).
   722→
   723→```bash
   724→/flow consolidate            # Consolidate current PRD
   725→/flow consolidate auth       # Consolidate authentication PRD
   726→```
   727→
   728→**What happens:**
   729→1. Reads error log from `docs/errors-[feature-name].md`
   730→2. Identifies which stories/steps have errors
   731→3. Re-runs ONLY the affected steps (not entire stories)
   732→4. Fixes specific errors found during testing
   733→
   734→### `/flow help`
   735→
   736→Displays comprehensive help information.
   737→
   738→---
   739→
   740→## Terminal Scripts
   741→
   742→Maven Flow includes terminal forwarder scripts in the `bin/` directory.
   743→
   744→### Available Scripts
   745→
   746→| Script | Description | Usage Example |
   747→|--------|-------------|---------------|
   748→| `flow.sh` / `flow.ps1` / `flow.bat` | Main Maven Flow orchestrator | `flow start 10` |
   749→| `flow-prd.sh` / `flow-prd.ps1` / `flow-prd.bat` | PRD creator | `flow-prd create authentication` |
   750→| `flow-convert.sh` / `flow-convert.ps1` / `flow-convert.bat` | PRD to JSON converter | `flow-convert authentication` |
   751→
   752→### Installation
   753→
   754→**Option 1: Global Installation (Recommended)**
   755→```bash
   756→# Linux/macOS
   757→./bin/flow-install-global.sh
   758→source ~/.bashrc  # or restart your terminal
   759→
   760→# Windows - Add bin/ folder to your PATH manually
   761→```
   762→
   763→**Option 2: Local Installation**
   764→```bash
   765→# Use scripts directly from bin/ folder
   766→./bin/flow.sh start 10
   767→./bin/flow-prd.sh create authentication
   768→./bin/flow-convert.sh authentication
   769→```
   770→
   771→### Usage Examples
   772→
   773→**Start autonomous development:**
   774→```bash
   775→flow start              # Start with default 10 iterations
   776→flow start 20           # Start with 20 iterations
   777→flow status             # Check progress
   778→flow continue           # Resume from last iteration
   779→flow reset auth         # Reset specific PRD
   780→```
   781→
   782→**Create and convert PRDs:**
   783→```bash
   784→# Create a new PRD (markdown)
   785→flow-prd create user authentication system with login and signup
   786→
   787→# Convert to JSON format
   788→flow-convert authentication
   789→
   790→# Start development
   791→flow start
   792→```
   793→
   794→### Terminal vs Claude Code Commands
   795→
   796→The terminal scripts are simple forwarders - they just pass your input to Claude Code:
   797→
   798→| Terminal Command | Claude Code Command |
   799→|------------------|-------------------|
   800→| `flow start 10` | `/flow start 10` |
   801→| `flow status` | `/flow status` |
   802→| `flow-prd create auth` | `/flow-prd create auth` |
   803→| `flow-convert auth` | `flow-convert auth` |
   804→
   805→All the actual work (agent coordination, memory management, context building) is handled by Claude Code commands, not the terminal scripts.
   806→
   807→---
   808→
   809→## Maven 10-Step Workflow
   810→
   811→| Step | Agent | Color | Description |
   812→|------|-------|-------|-------------|
   813→| **1** | development-agent | 🟢 Green | Foundation - Import UI with mock data or create from scratch |
   814→| **2** | development-agent | 🟢 Green | Package Manager - Convert npm → pnpm |
   815→| **3** | refactor-agent | 🔵 Blue | Feature Structure - Restructure to feature-based folders |
   816→| **4** | refactor-agent | 🔵 Blue | Modularization - Split components >300 lines |
   817→| **5** | quality-agent | 🟣 Purple | Type Safety - No 'any' types, @ aliases |
   818→| **6** | refactor-agent | 🔵 Blue | UI Centralization - Move to @shared/ui |
   819→| **7** | development-agent | 🟢 Green | Data Layer - Backend setup, Supabase integration |
   820→| **8** | security-agent | 🔴 Red | Auth Integration - Firebase + Supabase auth |
   821→| **9** | development-agent | 🟢 Green | MCP Integration - Connect MCP tools |
   822→| **10** | security-agent | 🔴 Red | Security & Error Handling |
   823→| **11** | design-agent | 🩷 Pink | Mobile Design - Professional UI (optional) |
   824→
   825→### Step to Agent Mapping
   826→
   827→```
   828→┌─────────────────────────────────────────────────────────────┐
   829→│  Story Maven Steps → Agent Assignment                        │
   830→├─────────────────────────────────────────────────────────────┤
   831→│                                                              │
   832→│  Steps 1, 2, 7, 9  →  @development-agent                    │
   833→│  ─────────────────────────────────────────                   │
   834→│  • Foundation (UI import or create from scratch)             │
   835→│  • Package Manager (npm → pnpm)                              │
   836→│  • Data Layer (backend setup, Supabase)                      │
   837→│  • MCP Integration (connect external tools)                  │
   838→│                                                              │
   839→│  Steps 3, 4, 6    →  @refactor-agent                        │
   840→│  ─────────────────────────────────────────                   │
   841→│  • Feature Structure (feature-based folders)                 │
   842→│  • Modularization (split large components)                   │
   843→│  • UI Centralization (move to @shared/ui)                    │
   844→│                                                              │
   845→│  Step 5           →  @quality-agent                          │
   846→│  ─────────────────────────────────────────                   │
   847→│  • Type Safety (no 'any' types, @ aliases)                   │
   848→│                                                              │
   849→│  Steps 8, 10     →  @security-agent                         │
   850→│  ─────────────────────────────────────────                   │
   851→│  • Auth Integration (Firebase + Supabase)                    │
   852→│  • Security & Error Handling                                 │
   853→│                                                              │
   854→│  Step 11          →  @design-agent (optional)                │
   855→│  ─────────────────────────────────────────                   │
   856→│  • Mobile Design (professional UI for Expo/React Native)     │
   857→│                                                              │
   858→└─────────────────────────────────────────────────────────────┘
   859→```
   860→
   861→---
   862→
   863→## Specialist Agents
   864→
   865→### development-agent (🟢 Green)
   866→
   867→**Use for:** Steps 1, 2, 7, 9
   868→
   869→**Responsibilities:**
   870→- Import UI with mock data or create from scratch
   871→- Convert package manager (npm → pnpm)
   872→- Set up data layer (Supabase, API clients)
   873→- Integrate MCP tools
   874→- Set up project foundation
   875→
   876→**Key actions:**
   877→- Creates base components with mock data
   878→- Installs and configures Supabase client
   879→- Sets up API middleware
   880→- Connects MCP tools (web-search, web-reader, browser)
   881→- Commits with prefix `feat:`
   882→
   883→### refactor-agent (🔵 Blue)
   884→
   885→**Use for:** Steps 3, 4, 6
   886→
   887→**Responsibilities:**
   888→- Restructure to feature-based architecture
   889→- Modularize large components
   890→- Centralize UI components to @shared/ui
   891→
   892→**Key actions:**
   893→- Moves code to feature-based folders
   894→- Splits components >300 lines
   895→- Extracts reusable UI components
   896→- Enforces architecture rules
   897→- Commits with prefix `refactor:`
   898→
   899→### quality-agent (🟣 Purple)
   900→
   901→**Use for:** Step 5
   902→
   903→**Responsibilities:**
   904→- Type safety enforcement
   905→- Import alias verification
   906→- Quality standards compliance
   907→
   908→**Key actions:**
   909→- Removes ALL 'any' types (zero tolerance)
   910→- Converts relative imports to @ aliases
   911→- Verifies component sizes
   912→- Blocks on quality violations
   913→- Auto-fixes import paths
   914→- Commits with prefix `fix:`
   915→
   916→**BLOCKING Issues:**
   917→- 'any' types in code
   918→- Gradients in CSS
   919→- Emojis in UI components
   920→- Relative imports
   921→
   922→### security-agent (🔴 Red)
   923→
   924→**Use for:** Steps 8, 10
   925→
   926→**Responsibilities:**
   927→- Authentication flow implementation
   928→- Security vulnerability checks
   929→- Error handling setup
   930→
   931→**Key actions:**
   932→- Firebase Auth integration
   933→- Supabase Row-Level Security (RLS)
   934→- JWT validation
   935→- Input sanitization
   936→- Error boundary implementation
   937→- Commits with prefix `security:`
   938→
   939→### design-agent (🩷 Pink)
   940→
   941→**Use for:** Step 11 (optional, mobile apps only)
   942→
   943→**Responsibilities:**
   944→- Professional mobile UI/UX design
   945→- Apple design methodology application
   946→
   947→**Key actions:**
   948→- Applies professional visual design
   949→- Implements proper navigation patterns
   950→- Ensures touch targets (44x44pt minimum)
   951→- Validates in Expo preview
   952→- Commits with prefix `design:`
   953→
   954→### testing-agent (🟠 Orange)
   955→
   956→**Use for:** `/flow test` command (not part of mavenSteps)
   957→
   958→**Responsibilities:**
   959→- Comprehensive application testing
   960→- Error logging and reporting
   961→- Browser automation with chrome-devtools MCP
   962→
   963→**Key actions:**
   964→- Opens application using chrome-devtools MCP
   965→- Tests all completed stories (where `passes: true`)
   966→- Tests signup/login with standard test user
   967→- Checks console for errors (logs ALL errors found)
   968→- Tests each acceptance criterion
   969→- Creates error log at `docs/errors-[feature-name].md`
   970→
   971→**Required MCP:** chrome-devtools (REQUIRED)
   972→
   973→**Test Credentials:**
   974→- Email: `revccnt@gmail.com`
   975→- Password: `Elishiba!90`
   976→
   977→### mobile-app-agent (🔵 Cyan)
   978→
   979→**Use for:** Mobile development (React Native + Expo apps)
   980→
   981→**Responsibilities:**
   982→- Mobile screen implementation with Expo Router
   983→- Offline-first data management with TanStack Query
   984→- Native UI patterns (swipe, pull-to-refresh, bottom sheets)
   985→- NativeWind styling (Tailwind for React Native)
   986→
   987→**Tech Stack:**
   988→- Frontend: React Native + Expo
   989→- Navigation: Expo Router
   990→- Styling: NativeWind (Tailwind)
   991→- State: TanStack Query + Zustand
   992→- Auth: Firebase Authentication
   993→- Backend: Supabase (shared with web)
   994→- Push: Firebase Cloud Messaging
   995→
   996→---
   997→
   998→## Feature-Based Architecture
   999→
  1000→Maven Flow enforces a strict feature-based structure for all new code:
  1001→
  1002→```
  1003→src/
  1004→├── app/                    # Entry points, routing
  1005→├── features/               # Isolated feature modules
  1006→│   ├── auth/              # Cannot import from other features
  1007→│   │   ├── api/           # API calls
  1008→│   │   ├── components/    # Feature components
  1009→│   │   ├── hooks/         # Custom hooks
  1010→│   │   ├── types/         # TypeScript types
  1011→│   │   └── index.ts       # Public exports
  1012→│   ├── dashboard/
  1013→│   └── [feature-name]/
  1014→├── shared/                # Shared code (no feature imports)
  1015→│   ├── ui/                # Reusable components
  1016→│   ├── api/               # Backend clients (Firebase, Supabase)
  1017→│   └── utils/             # Utilities
  1018→└── [type: "app"]
  1019→```
  1020→
  1021→### Architecture Rules
  1022→
  1023→| From | Can Import To |
  1024→|------|---------------|
  1025→| features/ | shared/, features/[same feature] |
  1026→| shared/ | shared/ only |
  1027→| app/ | features/, shared/ |
  1028→
  1029→**Import Aliases (no relative imports):**
  1030→- `@shared/*` → `src/shared/*`
  1031→- `@features/*` → `src/features/*`
  1032→- `@app/*` → `src/app/*`
  1033→- `@/*` → `src/*`
  1034→
  1035→### Why Feature-Based Architecture?
  1036→
  1037→| Benefit | Description |
  1038→|---------|-------------|
  1039→| **Isolation** | Features can't accidentally depend on each other |
  1040→| **Merge Safety** | Multiple developers can work on different features |
  1041→| **Clear Boundaries** | ESLint enforces boundaries at compile time |
  1042→| **Easy Deletion** | Delete a feature folder, nothing breaks |
  1043→| **Testability** | Features can be tested independently |
  1044→
  1045→---
  1046→
  1047→## Quality Hooks
  1048→
  1049→Maven Flow includes automated hooks that enforce quality standards during development.
  1050→
  1051→### PostToolUse Hook
  1052→
  1053→**File:** `.claude/hooks/post-tool-use-quality.sh`
  1054→
  1055→**Runs:** After every Write/Edit operation
  1056→
  1057→```bash
  1058→Checks:
  1059→  ✅ Relative imports      → Auto-fix to @ aliases
  1060→  ✅ 'any' types           → Should use proper types
  1061→  ✅ Gradients             → Should use solid colors
  1062→  ✅ File size >300 lines  → Needs modularization
  1063→  ✅ Direct API calls      → Should use data layer
  1064→  ✅ UI duplication        → Should use @shared/ui
  1065→  ✅ Exposed secrets       → Security risk
  1066→  ✅ Auth file changes     → Security review needed
  1067→```
  1068→
  1069→### Stop Hook
  1070→
  1071→**File:** `.claude/hooks/stop-comprehensive-check.sh`
  1072→
  1073→**Runs:** Before completing work
  1074→
  1075→```bash
  1076→Checks:
  1077→  ✅ Large components (>300 lines)
  1078→  ✅ Type safety ('any' count)
  1079→  ✅ Import path violations
  1080→  ✅ Feature boundary violations (ESLint)
  1081→  ✅ UI component duplication
  1082→  ✅ Security scan (secrets, tokens, passwords)
  1083→
  1084→Output:
  1085→  ✅ PASS    → Ready to commit
  1086→  ⚠️  WARN   → Manual review needed
  1087→  ❌ BLOCK   → Spawn agents to fix
  1088→```
  1089→
  1090→### Zero Tolerance Rules
  1091→
  1092→The following violations will BLOCK commits:
  1093→
  1094→1. **'any' Types - ZERO TOLERANCE**
  1095→   - No `: any`, `: any[]`, `<any>`, `Promise<any>`
  1096→   - Use proper interfaces or `unknown` with type guards
  1097→
  1098→2. **Gradients in CSS - ZERO TOLERANCE**
  1099→   - No `linear-gradient`, `radial-gradient`, `conic-gradient`
  1100→   - Use solid professional colors only
  1101→
  1102→3. **Emojis in UI - ZERO TOLERANCE**
  1103→   - No emojis anywhere in UI components
  1104→   - Use professional icon libraries (lucide-react, heroicons)
  1105→
  1106→4. **Relative Imports**
  1107→   - No `import { Foo } from './foo'` or `../bar`
  1108→   - Use `@/` aliases for all imports
  1109→
  1110→---
  1111→
  1112→## Installation
  1113→
  1114→### Quick Install (Simplified Scripts)
  1115→
  1116→Use the simplified installation scripts for easy setup:
  1117→
  1118→**Linux/macOS (Bash):**
  1119→```bash
  1120→# Global installation (available for all projects) - default
  1121→./install-simple.sh global
  1122→
  1123→# Local installation (for current project)
  1124→./install-simple.sh local
  1125→```
  1126→
  1127→**Windows (PowerShell):**
  1128→```powershell
  1129→# Global installation
  1130→.\install-simple.ps1 global
  1131→
  1132→# Local installation
  1133→.\install-simple.ps1 local
  1134→```
  1135→
  1136→**Windows (CMD):**
  1137→```batch
  1138→# Global installation
  1139→install-simple.bat global
  1140→
  1141→# Local installation
  1142→install-simple.bat local
  1143→```
  1144→
  1145→### Configuration
  1146→
  1147→#### ESLint Boundaries
  1148→
  1149→Copy `maven-flow/config/eslint.config.mjs` to your project root to enable feature-based architecture enforcement.
  1150→
  1151→#### Settings
  1152→
  1153→The hooks are configured in `.claude/maven-flow/.claude/settings.json`. Ensure the paths match your project structure.
  1154→
  1155→---
  1156→
  1157→## Troubleshooting
  1158→
  1159→### Flow not starting?
  1160→
  1161→**Check:**
  1162→- At least one `docs/prd-*.json` file exists
  1163→- PRD JSON is valid
  1164→- Run `/flow status` for diagnostics
  1165→
  1166→### Iteration failing?
  1167→
  1168→**Check:**
  1169→- That PRD's `docs/progress-[feature-name].txt` for error messages
  1170→- Git log: `git log --oneline -10`
  1171→- Resume with `/flow continue`
  1172→
  1173→### Wrong PRD being processed?
  1174→
  1175→**Check:**
  1176→- Use `/flow status` to see all PRDs and their status
  1177→- Use `/flow continue [prd-name]` to specify which PRD to work on
  1178→
  1179→### Quality hooks not running?
  1180→
  1181→**Check:**
  1182→- `.claude/maven-flow/.claude/settings.json` is configured
  1183→- Hooks are executable: `chmod +x .claude/maven-flow/hooks/*.sh`
  1184→- Bash is available on your system
  1185→
  1186→### Need to restart a PRD?
  1187→
  1188→```bash
  1189→/flow reset [prd-name]
  1190→```
  1191→
  1192→Previous runs are preserved in `archive/YYYY-MM-DD-[feature-name]/`. Other PRDs remain unaffected.
  1193→
  1194→---
  1195→
  1196→## File Structure
  1197→
  1198→```
  1199→maven-flow/                              # Distribution directory
  1200→├── .claude/
  1201→│   └── settings.json                   # Hook configurations
  1202→├── agents/
  1203→│   └── [agent definitions]             # Specialist agents
  1204→├── commands/
  1205→│   └── flow.md                         # /flow slash command
  1206→├── skills/
  1207→│   ├── flow-prd/SKILL.md               # PRD creation skill
  1208→│   └── flow-convert/SKILL.md           # PRD conversion skill
  1209→├── hooks/
  1210→│   ├── post-tool-use-quality.sh        # Real-time quality
  1211→│   └── stop-comprehensive-check.sh    # Pre-completion check
  1212→├── config/
  1213→│   └── eslint.config.mjs               # Feature boundaries
  1214→├── bin/                                # Terminal scripts
  1215→│   ├── flow.sh / flow.ps1 / flow.bat
  1216→│   ├── flow-prd.sh / flow-prd.ps1 / flow-prd.bat
  1217→│   └── flow-convert.sh / flow-convert.ps1 / flow-convert.bat
  1218→└── README.md                           # This file
  1219→
  1220→# After Installation
  1221→
  1222→.claude/
  1223→├── maven-flow/                         # Maven Flow system
  1224→│   ├── hooks/                          # Quality enforcement hooks
  1225→│   ├── config/                         # ESLint configuration
  1226→│   └── .claude/settings.json           # Hook settings
  1227→├── skills/                             # Skills in official location
  1228→│   ├── flow-prd/SKILL.md               # PRD creation skill
  1229→│   └── flow-convert/SKILL.md           # PRD conversion skill
  1230→├── agents/                             # Global agents location
  1231→│   └── [agent definitions]             # Specialist agents
  1232→└── commands/                           # Global commands location
  1233→    └── flow.md                         # /flow command
  1234→```
  1235→
  1236→---
  1237→
  1238→## Contributing
  1239→
  1240→Maven Flow is designed to be extensible. To add custom agents or steps:
  1241→
  1242→1. Create new agent file in `.claude/agents/`
  1243→2. Add unique color in frontmatter
  1244→3. Set `model: inherit` and appropriate `permissionMode`
  1245→4. Update `.claude/commands/flow.md` to include new agent in coordination
  1246→5. Update this README with new agent details
  1247→
  1248→---
  1249→
  1250→## License
  1251→
  1252→Maven Flow is part of the autonomous AI development pattern implementation.
  1253→
  1254→---
  1255→
  1256→**Maven Flow: Memory-Driven Autonomous AI Development with Multi-PRD Support and Comprehensive Quality Assurance Powered by Claude Code CLI**
  1257→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
