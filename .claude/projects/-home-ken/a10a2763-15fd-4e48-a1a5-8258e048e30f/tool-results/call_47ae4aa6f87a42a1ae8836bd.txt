   705→}
   706→
   707→# Function to check if all stories in a PRD are complete
   708→check_prd_complete() {
   709→    local prd_file="$1"
   710→
   711→    # Check if all stories have passes: true
   712→    local incomplete_count=$(jq '[.userStories[] | select(.passes != true)] | length' "$prd_file" 2>/dev/null)
   713→
   714→    if [ "$incomplete_count" -eq 0 ]; then
   715→        return 0  # All complete
   716→    else
   717→        return 1  # Some incomplete
   718→    fi
   719→}
   720→
   721→# Main flow
   722→write_header "Maven Flow - Starting"
   723→
   724→# Check if plan.md exists for context
   725→PLAN_CONTEXT=""
   726→if [ -f "plan.md" ]; then
   727→    echo -e "${CYAN}Found plan.md - using as additional context${NC}"
   728→    PLAN_CONTEXT="
   729→PLAN CONTEXT:
   730→The user has a plan.md file with overall project direction. Use this as context when making decisions about feature interactions and prioritization.
   731→"
   732→fi
   733→
   734→# Commit and push any existing changes first

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
