     1→'use client';
     2→
     3→import Link from 'next/link';
     4→import { usePathname } from 'next/navigation';
     5→import { useEffect, useState } from 'react';
     6→
     7→interface NavItem {
     8→  href: string;
     9→  label: string;
    10→  icon: string;
    11→}
    12→
    13→const navItems: NavItem[] = [
    14→  { href: '/', label: 'Home', icon: '[H]' },
    15→  { href: '/databases', label: 'Databases', icon: '[D]' },
    16→  { href: '/whatsapp', label: 'WhatsApp', icon: '[W]' },
    17→  { href: '/deploy', label: 'Deploy', icon: '[P]' },
    18→  { href: '/backup', label: 'Backup', icon: '[B]' },
    19→  { href: '/emails', label: 'Emails', icon: '[E]' },
    20→];
    21→
    22→export function Sidebar() {
    23→  const pathname = usePathname();
    24→  const [user, setUser] = useState<{ email: string } | null>(null);
    25→
    26→  useEffect(() => {
    27→    // Get user from localStorage
    28→    const token = localStorage.getItem('supabase_access_token');
    29→    if (token) {
    30→      // Decode JWT to get user email (simple parsing)
    31→      try {
    32→        const payload = JSON.parse(atob(token.split('.')[1]));
    33→        setUser({ email: payload.email || '' });
    34→      } catch (error) {
    35→        console.error('Failed to decode token:', error);
    36→      }
    37→    }
    38→  }, []);
    39→
    40→  const handleLogout = async () => {
    41→    try {
    42→      await fetch('/api/auth/signout', { method: 'POST' });
    43→      localStorage.removeItem('supabase_access_token');
    44→      window.location.href = '/auth/signin';
    45→    } catch (error) {
    46→      console.error('Logout failed:', error);
    47→      window.location.href = '/auth/signin';
    48→    }
    49→  };
    50→
    51→  return (
    52→    <aside className="sidebar">
    53→      {/* Logo */}
    54→      <div className="sidebar-header">
    55→        <Link href="/" className="logo-link">
    56→          <img
    57→            src="https://www.nextmavens.com/logo-colored.png"
    58→            alt="NextMavens"
    59→            className="logo-image"
    60→          />
    61→        </Link>
    62→      </div>
    63→
    64→      {/* VPS Stats */}
    65→      <div className="vps-stats">
    66→        <VPSStat label="DISK" value="--" />
    67→        <VPSStat label="CPU" value="--" />
    68→        <VPSStat label="RAM" value="--" />
    69→        <VPSStat label="NET" value="--" />
    70→      </div>
    71→
    72→      {/* Navigation */}
    73→      <nav className="sidebar-nav">
    74→        <ul className="nav-list">
    75→          {navItems.map((item) => {
    76→            const isActive = pathname === item.href;
    77→            return (
    78→              <li key={item.href}>
    79→                <Link
    80→                  href={item.href}
    81→                  className={`nav-item ${isActive ? 'active' : ''}`}
    82→                >
    83→                  <span className="nav-icon mono">{item.icon}</span>
    84→                  <span className="nav-label">{item.label}</span>
    85→                </Link>
    86→              </li>
    87→            );
    88→          })}
    89→        </ul>
    90→      </nav>
    91→
    92→      {/* User section */}
    93→      {user && (
    94→        <div className="sidebar-footer">
    95→          <div className="user-info">
    96→            <span className="user-email mono">{user.email}</span>
    97→          </div>
    98→          <button
    99→            onClick={handleLogout}
   100→            className="logout-btn btn-ghost"
   101→          >
   102→            <span className="mono">[X]</span>
   103→            <span>Logout</span>
   104→          </button>
   105→        </div>
   106→      )}
   107→    </aside>
   108→  );
   109→}
   110→
   111→function VPSStat({ label, value }: { label: string; value: string }) {
   112→  return (
   113→    <div className="vps-stat">
   114→      <span className="vps-stat-label mono text-muted">{label}</span>
   115→      <span className="vps-stat-value mono">{value}</span>
   116→    </div>
   117→  );
   118→}
   119→
   120→export function sidebarStyles() {
   121→  return (
   122→    <style>{`
   123→      .sidebar {
   124→        position: fixed;
   125→        top: 0;
   126→        left: 0;
   127→        width: 240px;
   128→        height: 100vh;
   129→        background: var(--sidebar-bg);
   130→        border-right: 1px solid var(--sidebar-border);
   131→        display: flex;
   132→        flex-direction: column;
   133→        z-index: 50;
   134→      }
   135→
   136→      .sidebar-header {
   137→        padding: 1rem;
   138→        border-bottom: 1px solid var(--sidebar-border);
   139→      }
   140→
   141→      .logo-link {
   142→        display: flex;
   143→        align-items: center;
   144→        text-decoration: none;
   145→      }
   146→
   147→      .logo-image {
   148→        width: 32px;
   149→        height: 32px;
   150→        object-fit: contain;
   151→      }
   152→
   153→      .vps-stats {
   154→        display: grid;
   155→        grid-template-columns: 1fr 1fr;
   156→        gap: 0.5rem;
   157→        padding: 1rem;
   158→        border-bottom: 1px solid var(--sidebar-border);
   159→      }
   160→
   161→      .vps-stat {
   162→        display: flex;
   163→        flex-direction: column;
   164→        gap: 0.125rem;
   165→      }
   166→
   167→      .vps-stat-label {
   168→        font-size: 0.625rem;
   169→        letter-spacing: 0.1em;
   170→      }
   171→
   172→      .vps-stat-value {
   173→        font-size: 0.75rem;
   174→        color: var(--primary);
   175→      }
   176→
   177→      .sidebar-nav {
   178→        flex: 1;
   179→        overflow-y: auto;
   180→        padding: 0.5rem 0;
   181→      }
   182→
   183→      .nav-list {
   184→        list-style: none;
   185→        margin: 0;
   186→        padding: 0;
   187→      }
   188→
   189→      .nav-item {
   190→        display: flex;
   191→        align-items: center;
   192→        gap: 0.75rem;
   193→        padding: 0.625rem 1rem;
   194→        margin: 0.125rem 0.5rem;
   195→        border-radius: 0.375rem;
   196→        color: var(--foreground-muted);
   197→        text-decoration: none;
   198→        font-size: 0.875rem;
   199→        transition: all 0.15s ease;
   200→      }
   201→
   202→      .nav-item:hover {
   203→        background: var(--sidebar-hover);
   204→        color: var(--foreground);
   205→      }
   206→
   207→      .nav-item.active {
   208→        background: var(--sidebar-active);
   209→        color: var(--primary);
   210→      }
   211→
   212→      .nav-icon {
   213→        font-size: 0.75rem;
   214→        opacity: 0.8;
   215→      }
   216→
   217→      .nav-label {
   218→        font-weight: 500;
   219→      }
   220→
   221→      .sidebar-footer {
   222→        padding: 1rem;
   223→        border-top: 1px solid var(--sidebar-border);
   224→      }
   225→
   226→      .user-info {
   227→        margin-bottom: 0.75rem;
   228→      }
   229→
   230→      .user-email {
   231→        display: block;
   232→        font-size: 0.75rem;
   233→        color: var(--foreground-muted);
   234→        overflow: hidden;
   235→        text-overflow: ellipsis;
   236→        white-space: nowrap;
   237→      }
   238→
   239→      .logout-btn {
   240→        display: flex;
   241→        align-items: center;
   242→        gap: 0.5rem;
   243→        width: 100%;
   244→        padding: 0.5rem 0.75rem;
   245→        font-size: 0.875rem;
   246→        color: var(--foreground-muted);
   247→        background: transparent;
   248→        border: 1px solid transparent;
   249→        border-radius: 0.375rem;
   250→        cursor: pointer;
   251→        transition: all 0.15s ease;
   252→      }
   253→
   254→      .logout-btn:hover {
   255→        background: var(--sidebar-hover);
   256→        color: var(--error);
   257→      }
   258→    `}</style>
   259→  );
   260→}
   261→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
