     1→# NextMavens Platform - All Services
     2→# Run: docker compose -f docker/docker-compose.yml up -d
     3→#
     4→# Includes:
     5→# - Supabase (self-hosted DB, Studio, Realtime, etc.)
     6→# - Evolution API (WhatsApp)
     7→# - Redis (cache)
     8→# - Kong (API Gateway)
     9→
    10→networks:
    11→  nextmavens-network:
    12→    external: true
    13→    name: nextmavens-network
    14→
    15→# Global logging configuration
    16→x-logging: &default-logging
    17→  driver: "json-file"
    18→  options:
    19→    max-size: "10m"
    20→    max-file: "3"
    21→
    22→volumes:
    23→  supabase-db-data:
    24→    name: supabase-db-data
    25→  supabase-storage:
    26→    name: supabase-storage
    27→  evolution-data:
    28→    name: evolution-data
    29→
    30→services:
    31→  # PostgreSQL Database
    32→  db:
    33→    image: pgvector/pgvector:pg16
    34→    container_name: nextmavens-db
    35→    hostname: db
    36→    ports:
    37→      - "5432:5432"
    38→    environment:
    39→      POSTGRES_USER: postgres
    40→      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-postgres}
    41→      POSTGRES_DB: postgres
    42→    volumes:
    43→      - supabase-db-data:/var/lib/postgresql/data
    44→      - ./scripts/db-init.sql:/docker-entrypoint-initdb.d/init.sql
    45→    networks:
    46→      - nextmavens-network
    47→    restart: unless-stopped
    48→    logging: *default-logging
    49→    deploy:
    50→      resources:
    51→        limits:
    52→          memory: 2G
    53→        reservations:
    54→          memory: 512M
    55→    healthcheck:
    56→      test: ["CMD-SHELL", "pg_isready -U postgres -h localhost"]
    57→      interval: 10s
    58→      timeout: 5s
    59→      retries: 5
    60→
    61→  # Redis (Cache + Session Storage)
    62→  redis:
    63→    image: redis:7-alpine
    64→    container_name: nextmavens-redis
    65→    ports:
    66→      - "6379:6379"
    67→    command: redis-server --appendonly yes --maxmemory 256mb --maxmemory-policy allkeys-lru
    68→    networks:
    69→      - nextmavens-network
    70→    restart: unless-stopped
    71→    logging: *default-logging
    72→    deploy:
    73→      resources:
    74→        limits:
    75→          memory: 512M
    76→        reservations:
    77→          memory: 128M
    78→  
    79→    healthcheck:
    80→      test: ["CMD", "redis-cli", "ping"]
    81→      interval: 10s
    82→      timeout: 5s
    83→      retries: 5
    84→
    85→  # Supabase Studio
    86→  studio:
    87→    image: supabase/studio:latest
    88→    container_name: nextmavens-studio
    89→    environment:
    90→      STUDIO_PG_META_URL: http://meta:8080
    91→      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-postgres}
    92→      DEFAULT_ORGANIZATION_NAME: NextMavens
    93→      DEFAULT_PROJECT_NAME: Master
    94→    networks:
    95→      - nextmavens-network
    96→    restart: unless-stopped
    97→    logging: *default-logging
    98→    deploy:
    99→      resources:
   100→        limits:

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
