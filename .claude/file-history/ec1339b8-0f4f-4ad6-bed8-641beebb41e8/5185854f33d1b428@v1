{
  "project": "CLI Tool (@nextmavens/cli)",
  "branchName": "flow/cli-tool",
  "description": "Build an npm package @nextmavens/cli with commands for platform management: login, create-project, deploy, logs, db:migrate, whatsapp-connect. Token and API key authentication. Works with local dev and VPS deploy.",
  "userStories": [
    {
      "id": "US-001",
      "title": "CLI Login",
      "description": "As a developer, I want to authenticate via CLI so that I can manage projects from my terminal.",
      "acceptanceCriteria": [
        "Command: npx nextmavens login",
        "Prompts for email/password or token",
        "Stores credentials in ~/.nextmavens/config.json",
        "Verifies authentication",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7, 10],
      "mcpTools": {
        "step1": ["chrome-devtools"],
        "step7": ["chrome-devtools"],
        "step10": ["chrome-devtools"]
      },
      "priority": 1,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Create Project from CLI",
      "description": "As a developer, I want to create a project from CLI so that I can quickly set up new applications.",
      "acceptanceCriteria": [
        "Command: npx nextmavens create-project",
        "Prompts: org selection, name, description",
        "Calls API: POST /api/projects",
        "Displays API keys and connection string",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7, 10],
      "mcpTools": {
        "step1": ["supabase"],
        "step7": ["supabase"],
        "step10": ["supabase"]
      },
      "priority": 1,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Deploy Application",
      "description": "As a developer, I want to deploy my app via CLI so that I can push updates to the platform.",
      "acceptanceCriteria": [
        "Command: npx nextmavens deploy --project=xxx",
        "Detects framework (Next.js, Express, etc.)",
        "Builds application",
        "Uploads to VPS via rsync or git",
        "Restarts service",
        "Shows deployment URL",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7, 10],
      "mcpTools": {
        "step1": ["chrome-devtools"],
        "step7": ["chrome-devtools"],
        "step10": ["chrome-devtools"]
      },
      "priority": 1,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "View Logs",
      "description": "As a developer, I want to stream logs via CLI so that I can debug issues.",
      "acceptanceCriteria": [
        "Command: npx nextmavens logs --project=xxx --service=api",
        "Streams Docker container logs",
        "Follow mode with --follow flag",
        "Color-coded output",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 1,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Run Database Migrations",
      "description": "As a developer, I want to run migrations via CLI so that I can update my database schema.",
      "acceptanceCriteria": [
        "Command: npx nextmavens db:migrate --project=xxx",
        "Reads migrations from ./migrations folder",
        "Runs migrations against project database",
        "Tracks migration state",
        "Rollback support",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7, 10],
      "mcpTools": {
        "step1": ["supabase"],
        "step7": ["supabase"],
        "step10": ["supabase"]
      },
      "priority": 2,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "WhatsApp Connect",
      "description": "As a developer, I want to connect WhatsApp via CLI so that I can set up instances from terminal.",
      "acceptanceCriteria": [
        "Command: npx nextmavens whatsapp-connect --project=xxx --instance=name",
        "Creates instance via API",
        "Fetches and displays QR code (ASCII or base64)",
        "Waits for connection",
        "Shows connected phone number",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {
        "step1": ["chrome-devtools"],
        "step7": ["chrome-devtools"]
      },
      "priority": 2,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Environment Variable Management",
      "description": "As a developer, I want to manage env vars via CLI so that I can configure my application.",
      "acceptanceCriteria": [
        "Command: npx nextmavens env:set KEY=value --project=xxx",
        "Command: npx nextmavens env:get KEY --project=xxx",
        "Command: npx nextmavens env:list --project=xxx",
        "Stores encrypted in database",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 2,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Project Status",
      "description": "As a developer, I want to check project status so that I can see health and metrics.",
      "acceptanceCriteria": [
        "Command: npx nextmavens status --project=xxx",
        "Shows: status, database size, WhatsApp instances, API usage",
        "Storage usage with warnings",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "CLI Logout",
      "description": "As a developer, I want to logout from CLI so that I can clear my credentials.",
      "acceptanceCriteria": [
        "Command: npx nextmavens logout",
        "Removes stored credentials",
        "Confirms action",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Shell Completion",
      "description": "As a developer, I want tab completion so that I can use the CLI more efficiently.",
      "acceptanceCriteria": [
        "Bash completion script",
        "Zsh completion script",
        "Completes commands, flags, project names",
        "Installation command to enable",
        "Typecheck passes"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 3,
      "passes": false,
      "notes": ""
    }
  ]
}
