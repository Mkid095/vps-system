# Telegram Deployment Notification Bot

A Telegram bot that sends deployment notifications from Dokploy.

## Features

- Receive deployment success/failure notifications
- Display project details, repository, branch, and commit info
- Show error messages for failed deployments
- Calculate deployment duration

## Environment Variables

| Variable | Description | Example |
|----------|-------------|---------|
| `TELEGRAM_BOT_TOKEN` | Bot token from BotFather | `8311565035:AAEMMAmLAHM8L7zCnx42F3J3W4mcUfw4yhQ` |
| `TELEGRAM_CHAT_ID` | Chat ID for direct messages | `7809186882` |
| `TELEGRAM_CHANNEL_ID` | Channel ID for public messages | `-3876778158` |

## API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/health` | Health check |
| POST | `/webhook/deployment` | Dokploy webhook for deployments |
| POST | `/notify` | Manual notification trigger |
| GET | `/test` | Send test notification |

## Usage

### Send Manual Notification

```bash
curl -X POST http://localhost:3005/notify \
  -H "Content-Type: application/json" \
  -d '{
    "status": "success",
    "projectName": "My App",
    "repository": "user/repo",
    "branch": "main",
    "commit": "abc123",
    "deployUrl": "https://app.example.com"
  }'
```

### Dokploy Webhook Setup

In Dokploy, configure the deployment webhook URL:
```
https://your-telegram-bot-domain/webhook/deployment
```
