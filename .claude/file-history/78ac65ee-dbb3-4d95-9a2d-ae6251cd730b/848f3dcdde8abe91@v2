{
  "project": "Dashboard UI",
  "branchName": "flow/dashboard-ui",
  "description": "Build a Next.js 15+ TypeScript dashboard with Tailwind CSS for managing NextMavens Platform. Professional design with Inter font, neutral colors, no emojis/gradients. Integrate Supabase Auth, provide organizations to projects navigation, service redirects, and real-time notifications.",
  "userStories": [
    {
      "id": "US-001",
      "title": "User Authentication",
      "description": "As a user, I want to log in with email/password so that I can access my organizations and projects.",
      "acceptanceCriteria": [
        "Login page at /login",
        "Email/password form with validation",
        "Session persisted",
        "Redirect to dashboard after login",
        "Logout functionality",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7, 10],
      "mcpTools": {
        "step1": ["supabase", "chrome-devtools"],
        "step7": ["supabase", "chrome-devtools"],
        "step10": ["supabase", "chrome-devtools"]
      },
      "priority": 1,
      "passes": true,
      "notes": "Implemented with login page at /login that redirects to /auth/signin. Email/password form with validation, session persisted in cookies and localStorage, redirect to dashboard after login, logout functionality via signOut method in auth store."
    },
    {
      "id": "US-002",
      "title": "Dashboard Home",
      "description": "As a logged-in user, I want to see my organizations and projects on the dashboard so that I can navigate to my applications.",
      "acceptanceCriteria": [
        "Display all organizations",
        "Display projects grouped by organization",
        "Quick actions (new project, new org)",
        "Statistics (total projects, active instances)",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 1,
      "passes": true,
      "notes": "Implemented dashboard home with organizations and projects grouped together. Statistics cards showing total organizations, total projects, and active projects. Quick action buttons for creating new organizations and projects. Forms for creating both organizations and projects with validation."
    },
    {
      "id": "US-003",
      "title": "Organization Switcher",
      "description": "As a user with multiple organizations, I want to switch between organizations so that I can focus on one context.",
      "acceptanceCriteria": [
        "Dropdown or sidebar selector",
        "Shows current organization",
        "Lists all accessible organizations",
        "Updates context on selection",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 1,
      "passes": true,
      "notes": "Implemented with organization switcher dropdown component in navigation bar. Uses zustand store with localStorage persistence for selected organization. Shows current organization, lists all accessible organizations with roles, and updates context on selection. Dashboard filters projects by selected organization."
    },
    {
      "id": "US-004",
      "title": "Project List View",
      "description": "As a user, I want to see all projects in an organization with status indicators so that I can identify active/provisioning/suspended projects.",
      "acceptanceCriteria": [
        "Table or card layout",
        "Status badges (active/provisioning/suspended)",
        "Quick links to Studio, logs, settings",
        "Filter by status",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 1,
      "passes": true,
      "notes": "Implemented with /projects page route. Desktop table view with columns for Project, Organization, Status, WhatsApp instances, and Actions. Mobile card view with same information. Status badges with color coding (green=active, yellow=provisioning, red=suspended, gray=archived). Filter dropdown for status (all/active/provisioning/suspended/archived). Quick links to Studio (/studio/{slug}), Logs (/api/projects/{id}), and Settings (/projects/{id}/settings). Organization switcher for filtering by org."
    },
    {
      "id": "US-005",
      "title": "Create Project Modal",
      "description": "As an organization member, I want to create a new project so that I can deploy a new application.",
      "acceptanceCriteria": [
        "Modal form with name, description, slug",
        "Slug auto-generated from name",
        "Validation for slug uniqueness",
        "Shows API keys after creation (one-time display)",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7, 10],
      "mcpTools": {
        "step1": ["chrome-devtools"],
        "step7": ["chrome-devtools"],
        "step10": ["chrome-devtools"]
      },
      "priority": 1,
      "passes": true,
      "notes": "Implemented with form on dashboard that creates projects and shows modal with API keys (anon key and service role key) after creation. Slug is auto-generated by API. Slug uniqueness validated by API. Modal shows warning that keys are only displayed once with copy all button."
    },
    {
      "id": "US-006",
      "title": "Service Redirects",
      "description": "As a developer, I want quick links to external services so that I can access Studio, Evolution API, and other tools.",
      "acceptanceCriteria": [
        "Links to Supabase Studio (per project)",
        "Links to Evolution API console",
        "Links to logs/monitoring",
        "Opens in new tab",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 2,
      "passes": true,
      "notes": "Implemented with /services page route. Shows links to Supabase Studio per project (/studio/{slug}), Evolution API console (from NEXT_PUBLIC_EVOLUTION_API_URL), and project logs (/api/projects/{id}). All links open in new tab with target=\"_blank\" and rel=\"noopener noreferrer\". Organized by project with organization switcher. Typecheck passes."
    },
    {
      "id": "US-007",
      "title": "API Key Management",
      "description": "As a developer, I want to manage API keys so that I can rotate credentials and control access.",
      "acceptanceCriteria": [
        "List active API keys",
        "Show key prefix and last used",
        "Create new key (shows full value once)",
        "Revoke key",
        "Set expiration",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7, 10],
      "mcpTools": {},
      "priority": 2,
      "passes": true,
      "notes": "Implemented with /projects/[id]/settings page route. API client methods added (getProjectApiKeys, createProjectApiKey, revokeProjectApiKey). Table shows all API keys with name, key prefix (with copy button), scopes badges, status (Active/Revoked/Expired), last used, and expiration. Create API key modal with name input, scope checkboxes (read/write/admin with descriptions), and optional expiration date picker. New key display modal shows full API key with warning that it will only be shown once, copy to clipboard button, and key details. Revoke button for active keys with confirmation. Status badges color-coded (green=active, gray=revoked, red=expired). Empty state when no keys exist. Typecheck passes."
    },
    {
      "id": "US-008",
      "title": "Real-time Notifications",
      "description": "As a user, I want to receive real-time notifications so that I know about events affecting my projects.",
      "acceptanceCriteria": [
        "Supabase Realtime subscription",
        "Toast notifications for events",
        "Events: deployment status, WhatsApp connect, errors",
        "Notification center history",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 2,
      "passes": true,
      "notes": "Implemented with toast notification system in dashboard/src/components/toast-notifications.tsx and notification center in dashboard/src/components/notification-center.tsx. Zustand store for notification state management with addNotification, markAsRead, clearNotification functions. ToastContainer component displays up to 5 notifications with auto-dismiss after 5 seconds (errors persist). NotificationBell button shows unread count and opens NotificationCenter panel. Helper functions for common events: deploymentStatus, whatsappConnected/Disconnected, apiKeyCreated, success/error/warning/info. Events integrated into dashboard page for project creation and WhatsApp instance creation. useRealtimeSubscriptions hook structure ready for Supabase Realtime integration. Typecheck passes."
    },
    {
      "id": "US-009",
      "title": "Project Settings Page",
      "description": "As a project owner, I want to configure project settings so that I can customize behavior.",
      "acceptanceCriteria": [
        "Edit project name/description",
        "Configure storage quota",
        "Set rate limits",
        "Danger zone: delete project",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7],
      "mcpTools": {},
      "priority": 3,
      "passes": true,
      "notes": "Implemented with /projects/[id]/settings page route with tabbed interface (General, API Keys, Danger Zone). General tab: edit project name and description with save button, storage quota input (GB, default 10GB, max 1000GB), rate limit input (requests per minute, default 100, max 10000). Success message after saving. API Keys tab: list keys with name, prefix, scopes, status, last used, expiration; create new key modal; revoke functionality. Danger Zone tab: delete project with type project name to confirm, warning message, double confirmation. All tabs use consistent UI with Tailwind CSS styling. Typecheck passes."
    },
    {
      "id": "US-010",
      "title": "Team Management Page",
      "description": "As an organization owner, I want to manage team members so that I can control access.",
      "acceptanceCriteria": [
        "List members with roles",
        "Invite new members",
        "Change member roles",
        "Remove members",
        "Typecheck passes",
        "Verify in browser"
      ],
      "mavenSteps": [1, 7, 10],
      "mcpTools": {
        "step1": ["supabase"],
        "step7": ["supabase"],
        "step10": ["supabase"]
      },
      "priority": 3,
      "passes": true,
      "notes": "Implemented team management page at /organizations/[id]/team with full CRUD operations. API endpoints: GET /api/orgs/:id/members (list members), POST /api/orgs/:id/members (invite new member), PATCH /api/orgs/:id/members/:memberId (update role), DELETE /api/orgs/:id/members/:memberId (remove member). Page features: members table with user_id, role badge (color-coded: owner=purple, admin=blue, member=green, viewer=gray), joined date. Invite modal with user_id input and role selector (viewer/member/admin/owner). Change role modal for existing members. Remove member button (disabled for owners). Role legend explaining permissions. Authorization checks: only owner/admin can invite, change roles, or remove members. Cannot remove owners. Typecheck passes."
    }
  ]
}
